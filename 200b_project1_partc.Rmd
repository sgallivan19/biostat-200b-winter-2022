---
title: "200b_project1_partc"
author: "Seamus Gallivan"
date: "2/6/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(haven)
setwd("/Users/seamusgallivan/biostat-200b-winter-2022")
df <- haven::read_sas("/Users/seamusgallivan/Documents/ucla/200B/projects/ptw_project1.sas7bdat")
```

Preliminary analyses 

BMI is significant between the two groups at p < .1 level. 

Now, I am going to check if there is a significant difference between the evaluable group and the non-evaluable group means for baseline variables. 

```{r}
#df1 = evaluable data frame
df1 <- df %>% 
  mutate(fsi2missing = ifelse(is.na(fsi2), TRUE, FALSE)) %>% 
  filter(fsi2missing == TRUE)
#df2 = inevaluable data frame
df2 <- df %>% 
  mutate(fsi2missing = ifelse(is.na(fsi2), TRUE, FALSE)) %>% 
  filter(fsi2missing == FALSE)
#create indicator variable for FSI2 is NA or not
df <- df %>% 
  mutate(fsi_indic = ifelse(is.na(fsi2), 0, 1))
```

site and income3 chi square test.
```{r}
site_table <- table(df$fsi_indic, df$site)
chisq.test(site_table)

income_table <- table(df$fsi_indic, df$income3)
chisq.test(income_table)
```

CESD1
```{r}
t.test(df1$cesd1, df2$cesd1)
```

FSI1
```{r}
t.test(df1$fsi1, df2$fsi1)
```

ISI1
```{r}
t.test(df1$isi1, df2$isi1)
```

bmi
```{r}
t.test(df1$bmi, df2$bmi)
```

agebaseline
```{r}
t.test(df1$ageBaseline, df2$ageBaseline)
```

agediagnosis
```{r}
t.test(df1$ageDiagnosis, df2$ageDiagnosis)
```

years since diagnosis 
```{r}
t.test(df1$yearsSinceDiagnosis, df2$yearsSinceDiagnosis)
```

married
```{r}
t.test(df1$married, df2$married)
```

